<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>

      $(document).ready(function(){

        var showTweets = function(inputUser) {
          
          var $body = $('body');
          $body.html('');

          var index = streams.home.length - 1;
          while(index >= 0){
            var tweet = streams.home[index];

            index -= 1;
            if (inputUser !== undefined && tweet.user !== inputUser) {
              continue;
            }
            else { // show tweet 
              var $tweet = $('<div></div>');
              $tweet.html(tweet.created_at + ' <a href="#" class="stuff" data-tweeter="' + tweet.user+ '">' + '@' + tweet.user + '</a>: ' + tweet.message);
              $tweet.appendTo($body);
            }
          }
        }; // end function showTweets

        showTweets();

        $('.stuff').on('click', function() {
          // var autoShowTweets = setInterval(function() { 
          //   showTweets($(this).data('tweeter')); 
          // }, 5000);
          var tweeter = $(this).data('tweeter');
          showTweets(tweeter);
          var autoShowTweets = setInterval(function() { showTweets(tweeter); }, 5000);

        });
        // var autoShowTweets = setInterval(function() { showTweets('mracus'); }, 5000);

      });

    </script>
  </body>
</html>
